<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Election Results</title>
</head>
<body>
    <h1>Election Results</h1>
    
    <div id="result-list">
        <!-- Election results will be displayed here -->
    </div>

    <script>
        // Fetch vote count data
        async function fetchVoteCount() {
            try {
                const response = await fetch('http://localhost:3000/candidate/vote/count');
                const voteCountData = await response.json();

                const resultListDiv = document.getElementById('result-list');
                resultListDiv.innerHTML = ''; // Clear existing list

                if (voteCountData.length > 0) {
                    voteCountData.forEach(data => {
                        // Create result elements
                        const resultDiv = document.createElement('div');
                        resultDiv.innerHTML = `
                            <p><strong>Party: </strong>${data.party}</p>
                            <p><strong>Vote Count: </strong>${data.count}</p>
                        `;
                        resultListDiv.appendChild(resultDiv);
                    });
                } else {
                    resultListDiv.innerHTML = '<p>No election results available yet.</p>';
                }
            } catch (error) {
                console.error('Error fetching vote count:', error);
                document.getElementById('result-list').innerHTML = '<p>Error fetching vote count.</p>';
            }
        }

        // Fetch the vote count when the page loads
        fetchVoteCount();
    </script>
</body>
</html>
